<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>PAMI: PHP Asterisk Manager Interface Client</title><link rel="stylesheet" href="css/jquery-ui.css" type="text/css"></link><link rel="stylesheet" href="css/docblox/jquery-ui-1.8.16.custom.css" type="text/css"></link><link rel="stylesheet" href="css/jquery.treeview.css" type="text/css"></link><link rel="stylesheet" href="css/theme.css" type="text/css"></link><script type="text/javascript" src="js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="js/jquery.tools.min.js"></script><script type="text/javascript" src="js/jquery.cookie.js"></script><script type="text/javascript" src="js/jquery.treeview.js"></script><script type="text/javascript">
            $(document).ready(function() {
                $(".filetree").treeview({
                    collapsed: true,
                    persist: "cookie"
                });

                $("#accordion").accordion({
                    collapsible: true,
                    autoHeight:  false,
                    fillSpace:   true
                });

                $(".tabs").tabs();
            });
        </script></head><body><div xmlns="" id="content">
<script xmlns:dbx="http://docblox-project.org/xsl/functions">

      function filterElements()
      {
        inherited = !$('#show-inherited').hasClass('deselected');
        public    = !$('#show-public').hasClass('deselected');
        protected = !$('#show-protected').hasClass('deselected');
        private   = !$('#show-private').hasClass('deselected');

        $('div.public').each(function(index, val) {
            $(val).toggle(public && !($(val).hasClass('inherited_from') && !inherited));
        });
        $('div.protected').each(function(index, val) {
            $(val).toggle(protected && !($(val).hasClass('inherited_from') && !inherited));
        });
        $('div.private').each(function(index, val) {
            $(val).toggle(private && !($(val).hasClass('inherited_from') && !inherited));
        });
      }

      $(document).ready(function() {
        $('a.gripper').click(function() {
            $(this).nextAll('div.code-tabs').slideToggle();
            $(this).children('img').toggle();
            return false;
        });

        $('div.method code span.highlight,div.function code span.highlight,div.constant code span.highlight,div.property code span.highlight').css('cursor', 'pointer');

        $('div.method code span.highlight,div.function code span.highlight,div.constant code span.highlight,div.property code span.highlight').click(function() {
            $(this).parent().nextAll('div.code-tabs').slideToggle();
            $(this).parent().prevAll('a.gripper').children('img').toggle();
            return false;
        });

        $('div.code-tabs').hide();
        $('a.gripper').show();
        $('div.code-tabs:empty').prevAll('a.gripper').html('');

        $('#show-public, #show-protected, #show-private, #show-inherited')
            .css('cursor', 'pointer')
            .click(function(){
                $(this).toggleClass('deselected');
                if ($(this).hasClass('deselected')) {
                  $(this).fadeTo('fast', '0.4');
                } else {
                  $(this).fadeTo('fast', '1.0');
                }
                filterElements();
                return false;
            });
        $('#show-protected, #show-private').click();

        // add the sliding behaviour to the file navigation and show it
        // it is initially hidden for non-JS users.
        $("#file-nav-box").show().hover(function() {
            $("#file-nav-container").slideDown(400);
        }, function() {
            $("#file-nav-container").slideUp(400);
        });
      });

      
    </script><h1 xmlns:dbx="http://docblox-project.org/xsl/functions" class="file">Client/Impl/ClientImpl.php<a href="source/Client/Impl/ClientImpl.php.html"><img src="images/icons/view_source.png" border="0"></a>
</h1>
<div xmlns:dbx="http://docblox-project.org/xsl/functions" id="file-nav-box">
<div id="file-nav-options">
              Show:
              <img src="images/icons/visibility_public.png" id="show-public"><img src="images/icons/visibility_protected.png" id="show-protected"><img src="images/icons/visibility_private.png" id="show-private"><span class="attribute" id="show-inherited">inherited</span>
</div>
<div id="file-nav-container">
<ul id="file-nav"><li>
<a href="#classes"><img src="images/icons/class.png" height="14">
                          Classes
                      </a><ul><li><a href="#%5CPAMI%5CClient%5CImpl%5CClientImpl">\PAMI\Client\Impl\ClientImpl</a></li></ul>
</li></ul>
<div style="clear: left;"></div>
</div>
<div id="file-nav-tab">
              Table of Contents
          </div>
</div>
<a xmlns:dbx="http://docblox-project.org/xsl/functions" name="top" class="anchor"></a><div id="file-description">
<p xmlns:dbx="http://docblox-project.org/xsl/functions" class="short-description">TCP Client implementation for AMI.</p>
<div xmlns:dbx="http://docblox-project.org/xsl/functions" class="long-description"><p>PHP Version 5</p></div>
</div>
<dl class="file-info">
<dt xmlns:dbx="http://docblox-project.org/xsl/functions">Author</dt>
<dd xmlns:dbx="http://docblox-project.org/xsl/functions">
<a href="mailto:marcelog@gmail.com">Marcelo Gornstein</a>
         
    </dd>
<dt xmlns:dbx="http://docblox-project.org/xsl/functions">Category</dt>
<dd xmlns:dbx="http://docblox-project.org/xsl/functions">Pami
         
    </dd>
<dt xmlns:dbx="http://docblox-project.org/xsl/functions">License</dt>
<dd xmlns:dbx="http://docblox-project.org/xsl/functions">
<a href="http://marcelog.github.com/PAMI/">Apache License 2.0</a>
         
    </dd>
<dt xmlns:dbx="http://docblox-project.org/xsl/functions">Link</dt>
<dd xmlns:dbx="http://docblox-project.org/xsl/functions">
<a href="http://marcelog.github.com/PAMI/%0ACopyright">2011 Marcelo Gornstein <marcelog@gmail.com>
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</a>
         
    </dd>
<dt xmlns:dbx="http://docblox-project.org/xsl/functions">Package</dt>
<dd xmlns:dbx="http://docblox-project.org/xsl/functions">Client
         
    </dd>
<dt xmlns:dbx="http://docblox-project.org/xsl/functions">Subpackage</dt>
<dd xmlns:dbx="http://docblox-project.org/xsl/functions">Impl
         
    </dd>
<dt xmlns:dbx="http://docblox-project.org/xsl/functions">Version</dt>
<dd xmlns:dbx="http://docblox-project.org/xsl/functions">SVN: $Id$
         
    </dd>
</dl>
<a name="classes" class="anchor"></a><a xmlns:dbx="http://docblox-project.org/xsl/functions" id="\PAMI\Client\Impl\ClientImpl" class="anchor"></a><h2 xmlns:dbx="http://docblox-project.org/xsl/functions" class="class">\PAMI\Client\Impl\ClientImpl<div class="to-top"><a href="#top">jump to top</a></div>
</h2>
<div xmlns:dbx="http://docblox-project.org/xsl/functions" class="class">
<small class="package"><b>Package: </b>Client\Impl</small><p class="short-description">TCP Client implementation for AMI.</p>
<div class="long-description"><p>PHP Version 5</p></div>
<dl class="class-info">
<dt>Parent(s)</dt>
<dd><a href="db_Client_IClient.html#%5CPAMI%5CClient%5CIClient">\PAMI\Client\IClient</a></dd>
<dt>Author</dt>
<dd>
<a href="mailto:marcelog@gmail.com">Marcelo Gornstein</a>
         
    </dd>
<dt>Category</dt>
<dd>Pami
         
    </dd>
<dt>License</dt>
<dd>
<a href="http://marcelog.github.com/PAMI/">Apache License 2.0</a>
         
    </dd>
<dt>Link</dt>
<dd>
<a href="http://marcelog.github.com/PAMI/">http://marcelog.github.com/PAMI/</a>
         
    </dd>
</dl>
<h3>Properties</h3>
<div>
<a id="\PAMI\Client\Impl\ClientImpl::$_cTimeout" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">integer
                 <span class="highlight">$_cTimeout</span>= ''
                </code><div class="description">
<p class="short-description">Connection timeout, in seconds.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>integer</dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_context" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">resource
                 <span class="highlight">$_context</span>= ''
                </code><div class="description">
<p class="short-description">Our stream context resource.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>resource</dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_currentProcessingMessage" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">string
                 <span class="highlight">$_currentProcessingMessage</span>= ''
                </code><div class="description">
<p class="short-description">Our current received message. May be incomplete, will be completed
eventually with an EOM.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>string</dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_eventFactory" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">\PAMI\Message\Event\Factory\Impl\EventFactoryImpl
                 <span class="highlight">$_eventFactory</span>= ''
                </code><div class="description">
<p class="short-description">Event factory.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd><a href="db_Message_Event_Factory_Impl_EventFactoryImpl.html#%5CPAMI%5CMessage%5CEvent%5CFactory%5CImpl%5CEventFactoryImpl">\PAMI\Message\Event\Factory\Impl\EventFactoryImpl</a></dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_eventListeners" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">\PAMI\Listener\IEventListener[]
                 <span class="highlight">$_eventListeners</span>= ''
                </code><div class="description">
<p class="short-description">Our event listeners</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd><a href="db_Listener_IEventListener.html#%5CPAMI%5CListener%5CIEventListener">\PAMI\Listener\IEventListener[]</a></dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_host" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">string
                 <span class="highlight">$_host</span>= ''
                </code><div class="description">
<p class="short-description">Hostname</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>string</dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_incomingQueue" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">\PAMI\Message\IncomingMessage[]
                 <span class="highlight">$_incomingQueue</span>= ''
                </code><div class="description">
<p class="short-description">The receiving queue.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd><a href="db_Message_IncomingMessage.html#%5CPAMI%5CMessage%5CIncomingMessage">\PAMI\Message\IncomingMessage[]</a></dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_lastActionId" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">string
                 <span class="highlight">$_lastActionId</span>= ''
                </code><div class="description">
<p class="short-description">This should not happen. Asterisk may send responses without a
corresponding ActionId.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>string</dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_logger" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">\PAMI\Client\Impl\Logger
                 <span class="highlight">$_logger</span>= ''
                </code><div class="description">
<p class="short-description">log4php logger or dummy.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>\PAMI\Client\Impl\Logger</dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_outgoingQueue" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">\PAMI\Message\OutgoingMessage[]
                 <span class="highlight">$_outgoingQueue</span>= ''
                </code><div class="description">
<p class="short-description">The send queue</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd><a href="db_Message_OutgoingMessage.html#%5CPAMI%5CMessage%5COutgoingMessage">\PAMI\Message\OutgoingMessage[]</a></dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_pass" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">string
                 <span class="highlight">$_pass</span>= ''
                </code><div class="description">
<p class="short-description">Password</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>string</dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_port" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">integer
                 <span class="highlight">$_port</span>= ''
                </code><div class="description">
<p class="short-description">TCP Port.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>integer</dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_rTimeout" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">integer
                 <span class="highlight">$_rTimeout</span>= ''
                </code><div class="description">
<p class="short-description">R/W timeout, in milliseconds.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>integer</dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_scheme" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">string
                 <span class="highlight">$_scheme</span>= ''
                </code><div class="description">
<p class="short-description">Connection scheme, like tcp:// or tls://</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>string</dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_socket" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">resource
                 <span class="highlight">$_socket</span>= ''
                </code><div class="description">
<p class="short-description">Our stream socket resource.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>resource</dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::$_user" class="anchor"></a><div class="property private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/property.png" alt="Property"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private">string
                 <span class="highlight">$_user</span>= ''
                </code><div class="description">
<p class="short-description">Username</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Details</strong><dl class="property-info">
<dt>Type</dt>
<dd>string</dd>
</dl>
</div>
<div class="clear"></div>
</div>
</div>
<h3>Methods</h3>
<div>
<a id="\PAMI\Client\Impl\ClientImpl::__construct()" class="anchor"></a><div class="method public">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_public.png" style="margin-right: 5px" alt="public"><span class="highlight">__construct</span><span class="nb-faded-text">(
          \string[] $options
          )
        </span>
        :
          void</code><div class="description"><p class="short_description">Constructor.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Parameters</strong><table class="argument-info">
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<th>$options</th>
<td>\string[]</td>
<td><em><p>Options for ami client.</p></em></td>
</tr>
</table>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::_messageToEvent()" class="anchor"></a><div class="method private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private"><span class="highlight">_messageToEvent</span><span class="nb-faded-text">(
          string $msg
          )
        </span>
        :
          <a href="db_Message_Event_EventMessage.html#%5CPAMI%5CMessage%5CEvent%5CEventMessage">\PAMI\Message\Event\EventMessage</a></code><div class="description"><p class="short_description">Returns a EventMessage from a raw string that came from asterisk.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Parameters</strong><table class="argument-info">
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<th>$msg</th>
<td>string</td>
<td><em><p>Raw string.</p></em></td>
</tr>
</table>
<strong>Returns</strong><table class="argument-info">
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<td><a href="db_Message_Event_EventMessage.html#%5CPAMI%5CMessage%5CEvent%5CEventMessage">\PAMI\Message\Event\EventMessage</a></td>
<td></td>
</tr>
</table>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::_messageToResponse()" class="anchor"></a><div class="method private">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_private.png" style="margin-right: 5px" alt="private"><span class="highlight">_messageToResponse</span><span class="nb-faded-text">(
          string $msg
          )
        </span>
        :
          <a href="db_Message_Response_ResponseMessage.html#%5CPAMI%5CMessage%5CResponse%5CResponseMessage">\PAMI\Message\Response\ResponseMessage</a></code><div class="description"><p class="short_description">Returns a ResponseMessage from a raw string that came from asterisk.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Parameters</strong><table class="argument-info">
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<th>$msg</th>
<td>string</td>
<td><em><p>Raw string.</p></em></td>
</tr>
</table>
<strong>Returns</strong><table class="argument-info">
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<td><a href="db_Message_Response_ResponseMessage.html#%5CPAMI%5CMessage%5CResponse%5CResponseMessage">\PAMI\Message\Response\ResponseMessage</a></td>
<td></td>
</tr>
</table>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::close()" class="anchor"></a><div class="method public">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_public.png" style="margin-right: 5px" alt="public"><span class="highlight">close</span><span class="nb-faded-text">(
          
          )
        </span>
        :
          void</code><div class="description"><p class="short_description">Closes the connection to ami.</p></div>
<div class="code-tabs"><div class="long-description"></div></div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::dispatch()" class="anchor"></a><div class="method protected">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"><span class="highlight">dispatch</span><span class="nb-faded-text">(
          <a href="db_Message_IncomingMessage.html#%5CPAMI%5CMessage%5CIncomingMessage">\PAMI\Message\IncomingMessage</a> $message
          )
        </span>
        :
          void</code><div class="description"><p class="short_description">Dispatchs the incoming message to a handler.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Parameters</strong><table class="argument-info">
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<th>$message</th>
<td><a href="db_Message_IncomingMessage.html#%5CPAMI%5CMessage%5CIncomingMessage">\PAMI\Message\IncomingMessage</a></td>
<td><em><p>Message to dispatch.</p></em></td>
</tr>
</table>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::findResponse()" class="anchor"></a><div class="method protected">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"><span class="highlight">findResponse</span><span class="nb-faded-text">(
          <a href="db_Message_IncomingMessage.html#%5CPAMI%5CMessage%5CIncomingMessage">\PAMI\Message\IncomingMessage</a> $message
          )
        </span>
        :
          <a href="db_Message_Response_ResponseMessage.html#%5CPAMI%5CMessage%5CResponse%5CResponseMessage">\PAMI\Message\Response\ResponseMessage</a></code><div class="description"><p class="short_description">Tries to find an associated response for the given message.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Parameters</strong><table class="argument-info">
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<th>$message</th>
<td><a href="db_Message_IncomingMessage.html#%5CPAMI%5CMessage%5CIncomingMessage">\PAMI\Message\IncomingMessage</a></td>
<td><em><p>Message sent by asterisk.</p></em></td>
</tr>
</table>
<strong>Returns</strong><table class="argument-info">
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<td><a href="db_Message_Response_ResponseMessage.html#%5CPAMI%5CMessage%5CResponse%5CResponseMessage">\PAMI\Message\Response\ResponseMessage</a></td>
<td></td>
</tr>
</table>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::getLine()" class="anchor"></a><div class="method protected">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"><span class="highlight">getLine</span><span class="nb-faded-text">(
          
          )
        </span>
        :
          string</code><div class="description"><p class="short_description">Reads a line over the stream until EOL.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Returns</strong><table class="argument-info">
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<td>string</td>
<td></td>
</tr>
</table>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::getMessages()" class="anchor"></a><div class="method protected">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"><span class="highlight">getMessages</span><span class="nb-faded-text">(
          
          )
        </span>
        :
          string</code><div class="description"><p class="short_description">Reads a complete message over the stream until EOM.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Returns</strong><table class="argument-info">
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<td>string</td>
<td></td>
</tr>
</table>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::getRelated()" class="anchor"></a><div class="method protected">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"><span class="highlight">getRelated</span><span class="nb-faded-text">(
           $message
          )
        </span>
        :
          <a href="db_Message_IncomingMessage.html#%5CPAMI%5CMessage%5CIncomingMessage">\PAMI\Message\IncomingMessage</a></code><div class="description"><p class="short_description">Returns a message (response) related to the given message. This uses
the ActionID tag (key).</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Parameters</strong><table class="argument-info">
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<th>$message</th>
<td></td>
<td><em></em></td>
</tr>
</table>
<strong>Returns</strong><table class="argument-info">
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<td><a href="db_Message_IncomingMessage.html#%5CPAMI%5CMessage%5CIncomingMessage">\PAMI\Message\IncomingMessage</a></td>
<td></td>
</tr>
</table>
<strong>Details</strong><dl class="function-info">
<dt>Todo</dt>
<dd>not suitable for multithreaded applications.
         
    </dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::open()" class="anchor"></a><div class="method public">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_public.png" style="margin-right: 5px" alt="public"><span class="highlight">open</span><span class="nb-faded-text">(
          
          )
        </span>
        :
          void</code><div class="description"><p class="short_description">Opens a tcp connection to ami.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Throws</strong><table class="argument-info">
<thead><tr>
<th>Exception</th>
<th>Description</th>
</tr></thead>
<tr>
<td><a href="db_Client_Exception_ClientException.html#%5CPAMI%5CClient%5CException%5CClientException">\PAMI\Client\Exception\ClientException</a></td>
<td><em></em></td>
</tr>
</table>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::process()" class="anchor"></a><div class="method public">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_public.png" style="margin-right: 5px" alt="public"><span class="highlight">process</span><span class="nb-faded-text">(
          
          )
        </span>
        :
          void</code><div class="description"><p class="short_description">Main processing loop. Also called from send(), you should call this in
your own application in order to continue reading events and responses
from ami. You may also declare(ticks=1) in your main source code.</p></div>
<div class="code-tabs">
<div class="long-description"><p>Taken from: http://www.voip-info.org/wiki/view/Asterisk+manager+API</p>

<p>The type of a packet is determined by the existence of one of the
following keys:
Action: A packet sent by the connected client to Asterisk, requesting a
particular Action be performed. There are a finite (but extendable) set
of actions available to the client, determined by the modules presently
loaded in the Asterisk engine. Only one action may be outstanding at a
time. The Action packet contains the name of the operation to be
performed as well as all required parameters.
Response: the response sent by Asterisk to the last action sent by the
client.
Event: data pertaining to an event generated from within the Asterisk
core or an extension module.
Generally the client sends Action packets to the Asterisk server, the
Asterisk server performs the requested operation and returns the result
(often only success or failure) in a Response packet. As there is no
guarantee regarding the order of Response packets the client usually
includes an ActionID parameter in every Action packet that is sent back
by Asterisk in the corresponding Response packet. That way the client
can easily match Action and Response packets while sending Actions at
any desired rate without having to wait for outstanding Response packets
before sending the next action.
Event packets are used in two different contexts: On the one hand they
inform clients about state changes in Asterisk (like new channels being
created and hung up or agents being logged in and out) on the other hand
they are used to transport the response payload for actions that return
a list of data (event generating actions). When a client sends an event
generating action Asterisk sends a Response packed indicating success
and containing a "Response: Follows" line. Then it sends zero or more
events that contain the actual payload and finally an action complete
event indicating that all data has been sent. The events sent in
response to an event generating action and the action complete event
contain the ActionID of the Action packet that triggered them, so you
can easily match them the same way as Response packets. An example of an
event generating action is the Status action that triggers Status events
for each active channel. When all Status events have been sent a
terminating a StatusComplete event is sent.</p></div>
<strong>Details</strong><dl class="function-info">
<dt>Todo</dt>
<dd>not suitable for multithreaded applications.
         
    </dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::registerEventListener()" class="anchor"></a><div class="method public">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_public.png" style="margin-right: 5px" alt="public"><span class="highlight">registerEventListener</span><span class="nb-faded-text">(
          <a href="db_Listener_IEventListener.html#%5CPAMI%5CListener%5CIEventListener">\PAMI\Listener\IEventListener</a> $listener
          )
        </span>
        :
          string</code><div class="description"><p class="short_description">Registers the given listener so it can receive events. Returns the generated
id for this new listener.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Parameters</strong><table class="argument-info">
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<th>$listener</th>
<td><a href="db_Listener_IEventListener.html#%5CPAMI%5CListener%5CIEventListener">\PAMI\Listener\IEventListener</a></td>
<td><em></em></td>
</tr>
</table>
<strong>Returns</strong><table class="argument-info">
<thead><tr>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<td>string</td>
<td></td>
</tr>
</table>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::send()" class="anchor"></a><div class="method public">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_public.png" style="margin-right: 5px" alt="public"><span class="highlight">send</span><span class="nb-faded-text">(
          <a href="db_Message_OutgoingMessage.html#%5CPAMI%5CMessage%5COutgoingMessage">\PAMI\Message\OutgoingMessage</a> $message
          )
        </span>
        :
          void</code><div class="description"><p class="short_description">Sends a message to ami.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Parameters</strong><table class="argument-info">
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<th>$message</th>
<td><a href="db_Message_OutgoingMessage.html#%5CPAMI%5CMessage%5COutgoingMessage">\PAMI\Message\OutgoingMessage</a></td>
<td><em><p>Message to send.</p></em></td>
</tr>
</table>
<strong>Throws</strong><table class="argument-info">
<thead><tr>
<th>Exception</th>
<th>Description</th>
</tr></thead>
<tr>
<td><a href="db_Client_Exception_ClientException.html#%5CPAMI%5CClient%5CException%5CClientException">\PAMI\Client\Exception\ClientException</a></td>
<td><em></em></td>
</tr>
</table>
<strong>Details</strong><dl class="function-info">
<dt>See</dt>
<dd>
<a href="db_Client_Impl_ClientImpl.html#%5CPAMI%5CClient%5CImpl%5CClientImpl::send()">\PAMI\Client\Impl\ClientImpl::send()</a>
         
    </dd>
</dl>
</div>
<div class="clear"></div>
</div>
<a id="\PAMI\Client\Impl\ClientImpl::unregisterEventListener()" class="anchor"></a><div class="method public">
<a href="#" class="gripper"><img src="images/icons/arrow_right.png"><img src="images/icons/arrow_down.png" style="display: none;"></a><code><img src="images/icons/method.png" alt="method"><img src="images/icons/visibility_public.png" style="margin-right: 5px" alt="public"><span class="highlight">unregisterEventListener</span><span class="nb-faded-text">(
          string $id
          )
        </span>
        :
          void</code><div class="description"><p class="short_description">Unregisters an event listener.</p></div>
<div class="code-tabs">
<div class="long-description"></div>
<strong>Parameters</strong><table class="argument-info">
<thead><tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tr>
<th>$id</th>
<td>string</td>
<td><em><p>The id returned by registerEventListener.</p></em></td>
</tr>
</table>
</div>
<div class="clear"></div>
</div>
</div>
</div>
</div>
<small xmlns="" class="footer">Documentation was generated by <a href="http://docblox-project.org">DocBlox 0.18.1</a>.
    </small></body></html>
