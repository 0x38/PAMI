<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos  -->
			<title>Docs For Class ClientImpl</title>
			<link rel="stylesheet" href="../../media/stylesheet.css" />
						<script src="../../media/lib/classTree.js"></script>
												<script language="javascript" type="text/javascript">
				var imgPlus = new Image();
				var imgMinus = new Image();
				imgPlus.src = "../../media/images/plus.png";
				imgMinus.src = "../../media/images/minus.png";
				
				function showNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgMinus.src;
					oTable.style.display = "block";
				}
				
				function hideNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgPlus.src;
					oTable.style.display = "none";
				}
				
				function nodeIsVisible(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
									break;
							}
					return (oTable && oTable.style.display == "block");
				}
				
				function toggleNodeVisibility(Node){
					if (nodeIsVisible(Node)){
						hideNode(Node);
					}else{
						showNode(Node);
					}
				}
			</script>
					</head>
		<body>
			<div class="page-body">			
<h2 class="class-name"><img src="../../media/images/Class_logo.png"
														alt=" Class"
														title=" Class"
														style="vertical-align: middle"> ClientImpl</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
                <p class="implements">
            Implements interfaces:
            <ul>
                <li><a href="../../Client/IClient.html">IClient</a></li>            </ul>
        </p>
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">TCP Client implementation for AMI.</p>
<p class="description"><p>PHP Version 5</p></p>
	<ul class="tags">
				<li><span class="field">author:</span> Marcelo Gornstein &lt;<a href="mailto:marcelog@gmail.com">marcelog@gmail.com</a>&gt;</li>
				<li><span class="field">link:</span> <a href="http://www.noneyet.ar/">http://www.noneyet.ar/</a></li>
				<li><span class="field">license:</span> <a href="http://www.noneyet.ar/">Apache License 2.0</a></li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_Client---Impl---ClientImpl.php.html">/Client/Impl/ClientImpl.php</a> (line <span class="field">57</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																																																																																																																																																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">resource</span>
					<a href="#$_context" title="details" class="var-name">$_context</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">integer</span>
					<a href="#$_cTimeout" title="details" class="var-name">$_cTimeout</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$_currentProcessingMessage" title="details" class="var-name">$_currentProcessingMessage</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type"><a href="../../Event/Factory-Impl/EventFactoryImpl.html">EventFactoryImpl</a></span>
					<a href="#$_eventFactory" title="details" class="var-name">$_eventFactory</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">IEventListener[]</span>
					<a href="#$_eventListeners" title="details" class="var-name">$_eventListeners</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$_host" title="details" class="var-name">$_host</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">IncomingMessage[]</span>
					<a href="#$_incomingQueue" title="details" class="var-name">$_incomingQueue</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$_lastActionId" title="details" class="var-name">$_lastActionId</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">Logger</span>
					<a href="#$_logger" title="details" class="var-name">$_logger</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">OutgoingMessage[]</span>
					<a href="#$_outgoingQueue" title="details" class="var-name">$_outgoingQueue</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$_pass" title="details" class="var-name">$_pass</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">integer</span>
					<a href="#$_port" title="details" class="var-name">$_port</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">integer</span>
					<a href="#$_rTimeout" title="details" class="var-name">$_rTimeout</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$_scheme" title="details" class="var-name">$_scheme</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">resource</span>
					<a href="#$_socket" title="details" class="var-name">$_socket</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/PrivateVariable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$_user" title="details" class="var-name">$_user</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																																																							
				<div class="method-definition">
					<img src="../../media/images/Constructor.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$options</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#close" title="details" class="method-name">close</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#dispatch" title="details" class="method-name">dispatch</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$message</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result"><a href="../../Message/Response/ResponseMessage.html">ResponseMessage</a></span>
										<a href="#findResponse" title="details" class="method-name">findResponse</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$message</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#getLine" title="details" class="method-name">getLine</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#getMessage" title="details" class="method-name">getMessage</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result"><a href="../../Message/IncomingMessage.html">IncomingMessage</a></span>
										<a href="#getRelated" title="details" class="method-name">getRelated</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$message</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#open" title="details" class="method-name">open</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#process" title="details" class="method-name">process</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#registerEventListener" title="details" class="method-name">registerEventListener</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$listener</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#send" title="details" class="method-name">send</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$message</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/PrivateMethod.png" alt=" "/>
											<span class="method-result"><a href="../../Message/Event/EventMessage.html">EventMessage</a></span>
										<a href="#_messageToEvent" title="details" class="method-name">_messageToEvent</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$msg</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/PrivateMethod.png" alt=" "/>
											<span class="method-result"><a href="../../Message/Response/ResponseMessage.html">ResponseMessage</a></span>
										<a href="#_messageToResponse" title="details" class="method-name">_messageToResponse</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$msg</span>)
									</div>
											</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			
<a name="var$_context" id="$_context"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">resource</span>
			<span class="var-name">$_context</span>
						(line <span class="line-number">123</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Our stream context resource.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_cTimeout" id="$_cTimeout"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">integer</span>
			<span class="var-name">$_cTimeout</span>
						(line <span class="line-number">93</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Connection timeout, in seconds.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_currentProcessingMessage" id="$_currentProcessingMessage"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$_currentProcessingMessage</span>
						(line <span class="line-number">148</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Our current received message. May be incomplete, will be completed  eventually with an EOM.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_eventFactory" id="$_eventFactory"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type"><a href="../../Event/Factory-Impl/EventFactoryImpl.html">EventFactoryImpl</a></span>
			<span class="var-name">$_eventFactory</span>
						(line <span class="line-number">105</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Event factory.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_eventListeners" id="$_eventListeners"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">IEventListener[]</span>
			<span class="var-name">$_eventListeners</span>
						(line <span class="line-number">129</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Our event listeners</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_host" id="$_host"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$_host</span>
						(line <span class="line-number">69</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Hostname</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_incomingQueue" id="$_incomingQueue"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">IncomingMessage[]</span>
			<span class="var-name">$_incomingQueue</span>
						(line <span class="line-number">141</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The receiving queue.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_lastActionId" id="$_lastActionId"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$_lastActionId</span>
						(line <span class="line-number">155</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">This should not happen. Asterisk may send responses without a  corresponding ActionId.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_logger" id="$_logger"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">Logger</span>
			<span class="var-name">$_logger</span>
						(line <span class="line-number">63</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">log4php logger or dummy.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_outgoingQueue" id="$_outgoingQueue"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">OutgoingMessage[]</span>
			<span class="var-name">$_outgoingQueue</span>
						(line <span class="line-number">135</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The send queue</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_pass" id="$_pass"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$_pass</span>
						(line <span class="line-number">87</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Password</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_port" id="$_port"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">integer</span>
			<span class="var-name">$_port</span>
						(line <span class="line-number">75</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">TCP Port.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_rTimeout" id="$_rTimeout"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">integer</span>
			<span class="var-name">$_rTimeout</span>
						(line <span class="line-number">111</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">R/W timeout, in milliseconds.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_scheme" id="$_scheme"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$_scheme</span>
						(line <span class="line-number">99</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Connection scheme, like tcp:// or tls://</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_socket" id="$_socket"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">resource</span>
			<span class="var-name">$_socket</span>
						(line <span class="line-number">117</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Our stream socket resource.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
<a name="var$_user" id="$_user"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/PrivateVariable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$_user</span>
						(line <span class="line-number">81</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Username</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="method__construct" id="__construct"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Constructor.png" />
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">471</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Constructor.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			__construct
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$options</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string[]</span>
				<span class="var-name">$options</span><span class="var-description">: Options for ami client.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodclose" id="close"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">close</span> (line <span class="line-number">455</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Closes the connection to ami.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			close
		</span>
				()
			</div>
	
		
				<hr class="separator" />
		<div class="notes">Implementation of:</div>
			<dl>
			<dt><a href="../../Client/IClient.html#methodclose">IClient::close()</a></dt>
						<dd>Closes the connection to ami.</dd>
					</dl>
			
	</div>
<a name="methoddispatch" id="dispatch"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">dispatch</span> (line <span class="line-number">350</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Dispatchs the incoming message to a handler.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			dispatch
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$message</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"><a href="../../Message/IncomingMessage.html">IncomingMessage</a></span>
				<span class="var-name">$message</span><span class="var-description">: Message to dispatch.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodfindResponse" id="findResponse"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">findResponse</span> (line <span class="line-number">334</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Tries to find an associated response for the given message.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result"><a href="../../Message/Response/ResponseMessage.html">ResponseMessage</a></span>
		<span class="method-name">
			findResponse
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$message</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"><a href="../../Message/IncomingMessage.html">IncomingMessage</a></span>
				<span class="var-name">$message</span><span class="var-description">: Message sent by asterisk.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetLine" id="getLine"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">getLine</span> (line <span class="line-number">211</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Reads a line over the stream until EOL.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			getLine
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetMessage" id="getMessage"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">getMessage</span> (line <span class="line-number">221</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Reads a complete message over the stream until EOM.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			getMessage
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodgetRelated" id="getRelated"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">getRelated</span> (line <span class="line-number">395</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns a message (response) related to the given message. This uses  the ActionID tag (key).</p>
	<ul class="tags">
				<li><span class="field">todo:</span> not suitable for multithreaded applications.</li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result"><a href="../../Message/IncomingMessage.html">IncomingMessage</a></span>
		<span class="method-name">
			getRelated
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$message</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"><a href="../../Message/OutgoingMessage.html">OutgoingMessage</a></span>
				<span class="var-name">$message</span>			</li>
				</ul>
		
			
	</div>
<a name="methodopen" id="open"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">open</span> (line <span class="line-number">163</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Opens a tcp connection to ami.</p>
	<ul class="tags">
				<li><span class="field">throws:</span> ClientException</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			open
		</span>
				()
			</div>
	
		
				<hr class="separator" />
		<div class="notes">Implementation of:</div>
			<dl>
			<dt><a href="../../Client/IClient.html#methodopen">IClient::open()</a></dt>
						<dd>Opens a tcp connection to ami.</dd>
					</dl>
			
	</div>
<a name="methodprocess" id="process"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">process</span> (line <span class="line-number">291</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Main processing loop. Also called from send(), you should call this in  your own application in order to continue reading events and responses  from ami. You may also declare(ticks=1) in your main source code.</p>
<p class="description"><p>Taken from: http://www.voip-info.org/wiki/view/Asterisk+manager+API</p><p>The type of a packet is determined by the existence of one of the  following keys:  Action: A packet sent by the connected client to Asterisk, requesting a  particular Action be performed. There are a finite (but extendable) set  of actions available to the client, determined by the modules presently  loaded in the Asterisk engine. Only one action may be outstanding at a  time. The Action packet contains the name of the operation to be  performed as well as all required parameters.  Response: the response sent by Asterisk to the last action sent by the  client.  Event: data pertaining to an event generated from within the Asterisk  core or an extension module.  Generally the client sends Action packets to the Asterisk server, the  Asterisk server performs the requested operation and returns the result  (often only success or failure) in a Response packet. As there is no  guarantee regarding the order of Response packets the client usually  includes an ActionID parameter in every Action packet that is sent back  by Asterisk in the corresponding Response packet. That way the client  can easily match Action and Response packets while sending Actions at  any desired rate without having to wait for outstanding Response packets  before sending the next action.  Event packets are used in two different contexts: On the one hand they  inform clients about state changes in Asterisk (like new channels being  created and hung up or agents being logged in and out) on the other hand  they are used to transport the response payload for actions that return  a list of data (event generating actions). When a client sends an event  generating action Asterisk sends a Response packed indicating success  and containing a &quot;Response: Follows&quot; line. Then it sends zero or more  events that contain the actual payload and finally an action complete  event indicating that all data has been sent. The events sent in  response to an event generating action and the action complete event  contain the ActionID of the Action packet that triggered them, so you  can easily match them the same way as Response packets. An example of an  event generating action is the Status action that triggers Status events  for each active channel. When all Status events have been sent a  terminating a StatusComplete event is sent.</p></p>
	<ul class="tags">
				<li><span class="field">todo:</span> not suitable for multithreaded applications.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			process
		</span>
				()
			</div>
	
		
				<hr class="separator" />
		<div class="notes">Implementation of:</div>
			<dl>
			<dt><a href="../../Client/IClient.html#methodprocess">IClient::process()</a></dt>
						<dd>Main processing loop. Also called from send(), you should call this in  your own application in order to continue reading events and responses  from ami.</dd>
					</dl>
			
	</div>
<a name="methodregisterEventListener" id="registerEventListener"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">registerEventListener</span> (line <span class="line-number">201</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Registers the given listener so it can receive events.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			registerEventListener
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$listener</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"><a href="../../Event/Listener/IEventListener.html">IEventListener</a></span>
				<span class="var-name">$listener</span>			</li>
				</ul>
		
			
	</div>
<a name="methodsend" id="send"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">send</span> (line <span class="line-number">418</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Sends a message to ami.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../Client/Impl/ClientImpl.html#methodsend">ClientImpl::send()</a></li>
				<li><span class="field">throws:</span> ClientException</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			send
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$message</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"><a href="../../Message/OutgoingMessage.html">OutgoingMessage</a></span>
				<span class="var-name">$message</span><span class="var-description">: Message to send.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_messageToEvent" id="_messageToEvent"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/PrivateMethod.png" />
		<span class="method-title">_messageToEvent</span> (line <span class="line-number">382</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns a EventMessage from a raw string that came from asterisk.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result"><a href="../../Message/Event/EventMessage.html">EventMessage</a></span>
		<span class="method-name">
			_messageToEvent
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$msg</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$msg</span><span class="var-description">: Raw string.</span>			</li>
				</ul>
		
			
	</div>
<a name="method_messageToResponse" id="_messageToResponse"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/PrivateMethod.png" />
		<span class="method-title">_messageToResponse</span> (line <span class="line-number">364</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns a ResponseMessage from a raw string that came from asterisk.</p>
	<ul class="tags">
				<li><span class="field">access:</span> private</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result"><a href="../../Message/Response/ResponseMessage.html">ResponseMessage</a></span>
		<span class="method-name">
			_messageToResponse
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$msg</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$msg</span><span class="var-description">: Raw string.</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>

	
	<p class="notes" id="credit">
		Documentation generated on Thu, 28 Jul 2011 21:57:35 -0300 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>